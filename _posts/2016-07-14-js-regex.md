---
layout: post
title:  "正则表达式"
categories: JavaScript
---

## 正则表达式规则

1. 普通字符
在匹配一个字符串的时候，匹配与之相同的一个字符。
2. 转义字符
不便书写的字符，采用在前面加 "/" 的方法
/t制表符
特殊用处的标点符号，在前面加 "\" 后，就代表该符号本身
\^匹配 ^ 符号本身
3. 与 '多种字符' 匹配的表达式

 - \d：任意一个数字
 - \w：任意一个字母或数字或下划线
 - \s：空白字符的其中任意一个
 - .：除了换行符（/n）以外的任意一个字符
4. 自定义能够匹配 '多种字符' 的表达式

方括号 [ ] 包含一系列字符，能够匹配其中任意一个字符
 - 匹配 "a" 或 "b" 或 "5" 或 "@":[ab5@]
 - 匹配 "a","b","c" 之外的任意一个字符:[^abc]
 - 匹配 "f"~"k" 之间的任意一个字母:[f-k]
5. 修饰匹配次数的特殊符号

 - {m,n} ：表达式至少重复m次，最多重复n次
 - ?：匹配表达式0次或者1次
 - +：表达式至少出现1次
 - *：表达式不出现或出现任意次
6. 代表抽象意义的特殊符号

 - ^：字符串开始的地方匹配
 - $：字符串结束的地方匹配
 - \b：单词的边界
 - |：所处位置的左右两边
 - ( )：作为整体被修饰，表达式匹配到的内容可以被单独得到

## 高级规则
1. 匹配次数中的贪婪与非贪婪
尽可能多的匹配
在修饰匹配次数的特殊符号后再加上一个 "?" 号，则可以使匹配次数不定的表达式尽可能少的匹配

2. 反向引用
表达式引擎会将小括号 "( )" 包含的表达式所匹配到的字符串记录下来
可以引用前面 "括号内的子匹配已经匹配到的字符串"。引用方法是 "\" 加上一个数字。"\1" 引用第1对括号内匹配到的字符串

3. 预搜索，不匹配；反向预搜索，不匹配

 - 正向预搜索
	- (?=xxxxx):所在缝隙的右侧，必须能够匹配上 xxxxx 这部分的表达式
 在此作为这个缝隙上附加的条件，所以它并不影响后边的表达式去真正匹配这个缝隙之后的字符
	- (?!xxxxx):所在缝隙的右侧，必须不能匹配 xxxxx 这部分表达式
 - 反向预搜索
    - (?<=xxxxx)
	- (?<!xxxxx)

>表达式 "(\w)((?=\1\1\1)(\1))+" 在匹配字符串 "aaa ffffff 999999999" 时，将可以匹配6个"f"的前4个，可以匹配9个"9"的前7个。这个表达式可以读解成：重复4次以上的字母数字，则匹配其剩下最后2位之前的部分。当然，这个表达式可以不这样写，在此的目的是作为演示之用。

##其他通用规则

 - 可以使用 "\xXX" 和 "\uXXXX" 表示一个字符
 - 在表达式 "\s"，"\d"，"\w"，"\b" 表示特殊意义的同时，对应的大写字母表示相反的意义
 - 在表达式中有特殊意义，需要添加 "\" 才能匹配该字符本身的字符汇总

##定义正则表达式
 - 普通方式：var reg=/表达式/附加参数
 - 表达式：一个字符串，代表了某种规则，其中可以使用某些特殊字符，来代表特殊的规则
 - g：代表可以进行全局匹配。i：代表不区分大小写匹配。m：代表可以进行多行匹配。

### test(...)

```regex.test(string)```可以检测表达式string中是否能匹配regex，返回```true/false```

### exec(...)

```regex.exec(string)```能够获得匹配的字符串，返回一个数组

```
let matches = regex.exec(string);
matches(0) : 匹配的字符串
regex.lastIndex	下一次匹配开始的位置
```